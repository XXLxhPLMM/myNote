# Spring项目仿真

## 1、项目分析步骤：

### 1.梳理需求：

 **明确需求--需要实现的功能---客户/产品经理---功能性需求---非功能性需求**

例： 登陆而言：非功能性需求：跟安全/用户体验

1. 账号错误-提示用户-剩余次数

2. 错误次数限制--超过3次，连续错误账号锁定 -提醒账号已锁定



 需求：登陆成功之后-不同的账号展示不同的功能模块以及不同的子功能

### 2. 需求分析：

1. **需求到底是否实现？**

2. **挖掘潜在需求--处理功能性需求之外--从开发者角度提出一些建议包括功能性的建议，或者非共鞥行的建议.**

3. **深度的了解需求--为设计/开发做好准备** 

###  3.设计:

1. #### 数据库设计 

      **使用的数据库类型/数据库版本/数据库的架构/索引/序列/表的设计** 

2. #### 架构设计

    **模式?B/s  c/s**

    **服务器类型--硬件**

    **软件服务器--软件**

    **服务器架构--网络拓扑-通信机制**

3. #### 概要设计

4. #### 详细设计/接口设计

### 4.数据库设计：

用户表

| 字段      | 类型        | 是否可空 | 备注                   |
| --------- | ----------- | -------- | ---------------------- |
| Id        | int         | No       | 主键                   |
| ucode     | Char(10)    | No       | 用户编号               |
| upwd      | Varchar(20) | No       | 用户密码               |
| uname     | Varchar(10) | No       | 用户名称               |
| uphoto    | Varchar(20) | No       | 用户头像               |
| Usex      | Char(2)     | No       | 用户性别               |
| ubirthday | date        | Yes      | 用户生日               |
| uphone    | Char(11)    | Yes      | 手机号码               |
| utype     | Varchar(10) | No       | 用户类型               |
| ustatus   | int         | No       | 用户类型：1:启用0:停用 |
| uaddress  | Varchar(20) | Yes      | 地址                   |
| rid       | int         | no       | 角色id                 |

角色表

| 字段  | 类型        | 是否可空 | 备注     |
| ----- | ----------- | -------- | -------- |
| rId   | int         | no       | 主键     |
| rname | Varchar(10) | no       | 角色名称 |
| rdesc | Varchar(20) | no       | 角色描述 |

权限表：

| 字段  | 类型    | 是否可空 | 备注             |
| ----- | ------- | -------- | ---------------- |
| pId   | int     | no       | 主键             |
| pname | varchar | no       | 权限名称         |
| purl  | varchar | no       | 权限路径         |
| P_pid | int     | no       | 权限的父级权限id |

Pid    pname   purl  p_pid

1    视频管理  video.html  0   --表示父级权限 

2     查询  select  --表示子集权限  1

角色权限关联表：

| 字段 | 类型 | 是否可空 | 备注   |
| ---- | ---- | -------- | ------ |
| Id   | Int  | no       | 主键   |
| rid  | int  | no       | 角色id |
| pid  | int  | no       | 权限id |

> 注意：我们在进行设置我们的数据字段时，我们去思考每个字段的大小长度。
>
> **常见的数据类型：**
> **数值型**：
> 整型：tinyint(1字节)、smallint(2字节)、mediumint(3字节)、int/integer(4字节)、bigint(8字节) 特点：默认是有符号的，要设置无符号，需添加unsigned关键字；不设置长度，会有默认的长度，长度代表了显示的最大宽度，如果不够会用0在左边填充。
>
> 小数: 浮点型：float(M,D)、double(M,D)
> 定点型：dec(M,D)、decimal(M,D)
>
> M：整数部位+小数部位 D：小数部位 M和D都可以省略，定点型的精度较高，如果要求插入数值的精度较高如货币运算等则考虑使用。
>
> 字符型：
> 较短的文本：
> char：写法：char(M) M的意思:最大的字符数，可以省略，默认为1 特点：固定长度的字符 空间的损耗：比较耗费 	  效率：高
> varchar：写法：varchar(M) M的意思:最大的字符数，不可以省略 特点：可变长度的字符 空间的损耗：比较节省   	效率：低
>
> 较长的文本：text、blob（较长的二进制数据）
> **日期型：**
> date：只保存日期
> time：只保存时间
> year：只保存年
> datetime 保存日期+时间
> timestamp 保存日期+时间

### 补充、数据库数据类型

1.在创建数据库的时候int(10)，varchar(255)中括号后⾯的数字代表什么意思？
括号⾥的数字叫数据的宽度，单数不同的数据类型对宽度的处理也不⼀样：
1、整数类型，这⾥显⽰的宽度和数据类型的取值范围是没有任何关系的，显⽰宽度只是指明Mysql最⼤可能显⽰的数字个数，数值的位数⼩
于指定的宽度时会由空格填充；如果插⼊了⼤于显⽰宽度的值，只要该值不超过该类型的取值范围，数值依然可以插⼊，⽽且能够显⽰出
来。
例如上⾯的udi，显⽰的宽度是4，但是我向uid中插⼊100001，也是可以的，保存和显⽰的都会是100001
如果你不设置宽度，系统将添加默认的宽度 tinyint(4),smallint(6),mediumint(9),int(11),bigint(20),这些默认的宽度是跟该类型的取值范围长度
相关。
2、字符串类型，字符串类型这个宽度才真的⽤上了。不管是char还是varchar，宽度都定义了字符串的最⼤长度
例如上⾯的 password varchar(20),如果你输⼊了⼀个21个字符的密码，那么保存和显⽰的只会是前20个字符，你将丢失⼀个字符信
息，char同理。由于varchar是变长存储的，所以实际开发中我们⼀般都把varchar的宽度设为最长255，反正你没⽤完它也不会浪费空间。

3、浮点和⽇期等数据类型对数据的宽度没有要求，⼀般也不设置，默认是0

---



